# 21. August 2025

## Arbeitsschritte
- VS Code Umgebung auf dem Laptop funktionsfähig eingerichtet, `.venv` aktiv.
- Updater `code/make_current_gw_dataset.py` mit `--gw 2` ausgeführt.
- Dateien erzeugt:
  - `data/cleaned_players_2025-26_team.csv` (696 Zeilen)
  - `data/current/merged_gw_like_gw2.csv` (696 Zeilen)
- Mini-Validierung im Python-Interpreter:
  - Spalten vorhanden (u. a. `position`, `team_short`, `opp_team_short`, `is_home`, `fdr`, `gw`)
  - `now_cost` im Dezimalformat (z. B. 5.5)
  - `fdr` in dieser GW: `[2, 3, 4]`
  - `gw` im Datensatz: `2`
- Abgleich `bootstrap-static`: `current_gw = 1`, `next_gw = 2` → Entscheidung: Vorhersage wird für `GW2` erstellt.

- **RF-Baseline** implementiert und ausgeführt:
  - Trainingsdaten: `data/_merged_gw_2022-23.csv` (Pfadname angepasst), zeitlicher Split **Train: GW 1–30 · Test: GW 31–38 (effektiv 31–37)**.
  - Feature-Set: `price`, `selected`, `influence_r3`, `creativity_r3`, `threat_r3`, `ict_index_r3`, `minutes_r3`, `tp_per90_r3`.
  - Metrik (MAE) auf Test:
    - **RandomForest**: **1.055**
    - **Preis-Baseline**: **1.339**  → RF ~**21 %** besser.
  - Artefakte: `out/rf_baseline_metrics.md`, `out/rf_pred_points_gw2.csv` (GW2-Inferenz).

- **Kleine Fixes**:
  - `team_short`-Merge-Kollision behoben (Dup-Spalte vor Merge entfernt).
  - Pfad-Mismatch beim Trainings-CSV (Dateiname mit `_` vor 2022-23) korrigiert.

## Reflexion
- **Warum diese Features zuerst?** Alles kommt stabil aus `bootstrap-static` bzw. aus Historie, ist sofort verfügbar und **leakage-sicher** via `shift(1)` + rolling (r3). Damit gibt es eine **saubere, reproduzierbare Baseline**.
- **Preis-Baseline ≠ MVP-Picker:** Die Baseline hier ist *nur* eine lineare Regression auf Preis zur **objektiven Einordnung**. Der alte MVP-Picker war eine Heuristik zur Teamwahl, nicht unsere Modell-Benchmark.
- **Wie gut ist MAE 1.055?** Für Ein-GW-Punkte (0–15) ist das als **erster RF-Durchstich** solide und deutlich besser als Preis-only (**1.339**) – aber bewusst **ausbaufähig** (z. B. Gegnerstärke, Verfügbarkeit, Neulinge).
- **Plausibilität (Neulinge/Verletzte):** Neuzugänge (z. B. ohne Historie) können zu hoch ranken; Verletzte/Gesperrte sollten gedämpft werden. Nächster fachlicher Schritt ist daher **Post-Processing** (Availability-Faktor, FDR-Gewichtung, Neuling-Dämpfung) bzw. später **Training mit Gegner-Features**.
